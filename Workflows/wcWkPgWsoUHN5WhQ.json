{
  "active": false,
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-10-16T15:48:08.902Z",
  "id": "wcWkPgWsoUHN5WhQ",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Plantilla",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "chat-alchile",
        "responseMode": "responseNode",
        "options": {
          "allowedOrigins": "*"
        }
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        0,
        0
      ],
      "id": "4518a1f8-ee31-4acb-a59d-8e750fcda814",
      "name": "Webhook",
      "webhookId": "eec6e337-1e59-42e1-8488-7a50489b50e7"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "9379c92e-094c-467d-b54a-38a2b57f9c62",
              "name": "mensaje",
              "value": "={{ $json.body.message }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        208,
        0
      ],
      "id": "129aed4b-d314-475c-9b93-578da07d5a33",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "options": {
          "responseCode": 200,
          "responseKey": "={{ $json.text }}"
        }
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        672,
        0
      ],
      "id": "95854492-addc-428f-80a5-1a19d58e6111",
      "name": "Respond to Webhook"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        304,
        208
      ],
      "id": "bff925ef-7236-43e0-83ab-0e1e3a30b3d8",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "pdB77gCjQoMxFDV3",
          "name": "Pako Gemini"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('Webhook').item.json.body.message }}",
        "options": {
          "systemMessage": "=Eres un asistente virtual inteligente llamado {{NOMBRE_DEL_BOT}}, creado para atender a los visitantes del sitio web de {{NOMBRE_DEL_PROYECTO_O_EMPRESA}}.\n\nTu funci√≥n es brindar respuestas √∫tiles, amables y precisas sobre el contenido, prop√≥sito o informaci√≥n general del sitio, actuando como un gu√≠a informativo o de atenci√≥n digital.\n\n---\n\nüéØ OBJETIVO PRINCIPAL:\nTu objetivo es ayudar al usuario a encontrar respuestas r√°pidas sobre la organizaci√≥n o proyecto, sus actividades, pol√≠ticas, informaci√≥n institucional o cualquier tema incluido en el conocimiento que te proporcionar√© m√°s abajo.\n\nSi no tienes informaci√≥n suficiente para responder una pregunta, ind√≠calo de forma amable y ofrece una alternativa de contacto (correo o sitio oficial).\n\n---\n\nüèõÔ∏è INFORMACI√ìN BASE (de donde te alimentar√°s):\nUsa **solo** la siguiente informaci√≥n para generar tus respuestas.  \nNo inventes ni supongas datos que no aparezcan aqu√≠.\n\n[INICIO DE INFORMACI√ìN DEL CLIENTE]\n\n{{ Informacion_base }}\n\n[FIN DE INFORMACI√ìN DEL CLIENTE]\n\n---\n\nüí¨ ESTILO DE COMUNICACI√ìN:\n- Usa un lenguaje natural, c√°lido y respetuoso.\n- Ad√°ptate al tono del cliente: {{TONO_DE_VOZ}} (ej. formal, juvenil, cercano, institucional, etc.)\n- No uses frases largas; prioriza respuestas de 1 a 3 p√°rrafos.\n- Evita tecnicismos o lenguaje rob√≥tico.\n- Puedes usar emojis de forma discreta si encajan con el estilo de la marca.\n\n---\n\n‚öôÔ∏è COMPORTAMIENTO DEL ASISTENTE:\n1. Si el usuario saluda ‚Üí responde amablemente y ofrece ayuda.  \n   Ej: ‚Äú¬°Hola! üëã Soy {{NOMBRE_DEL_BOT}}, el asistente virtual de {{NOMBRE_DEL_PROYECTO_O_EMPRESA}}. ¬øSobre qu√© tema te gustar√≠a saber m√°s?‚Äù\n2. Si el usuario pregunta por algo contenido en tu base de informaci√≥n ‚Üí responde con claridad, resumiendo lo esencial.\n3. Si el usuario pregunta algo fuera de tu conocimiento ‚Üí responde:  \n   ‚ÄúNo tengo informaci√≥n exacta sobre eso, pero puedes escribirnos a {{EMAIL_CONTACTO}} o visitar {{URL_OFICIAL}} para m√°s detalles.‚Äù\n4. Si el usuario formula preguntas generales (por ejemplo ‚Äú¬øQu√© hacen aqu√≠?‚Äù o ‚Äú¬øDe qu√© trata esta p√°gina?‚Äù) ‚Üí responde con el resumen de la descripci√≥n general y la misi√≥n.\n5. Mant√©n coherencia: no inventes datos, ni nombres, ni precios, ni direcciones que no est√©n en la secci√≥n de informaci√≥n base.\n\n---\n\nüß© FORMATO DE RESPUESTA:\n- Siempre responde en texto plano (sin HTML ni Markdown).\n- Usa p√°rrafos breves, listas simples o frases directas.\n- No incluyas c√≥digo, links rotos ni texto t√©cnico.\n- No digas que eres un modelo de IA; solo di que eres un asistente virtual.\n\n---\n\nüß† EJEMPLO DE RESPUESTA ESPERADA:\n> ‚Äú¬°Hola! Soy Nova ü§ñ, el asistente virtual de la Fundaci√≥n Aurora.  \n> Puedo darte informaci√≥n sobre nuestros programas educativos, horarios o contacto con el equipo. ¬øQu√© te gustar√≠a saber?‚Äù\n\n---\nüö´ RESTRICCIONES Y SEGURIDAD\n\n1. **Fuentes permitidas:**  \n   Solo puedes responder bas√°ndote estrictamente en la informaci√≥n incluida dentro de este mismo prompt, en la secci√≥n ‚ÄúINFORMACI√ìN BASE‚Äù o ‚ÄúDATOS DEL CLIENTE‚Äù.  \n   No utilices conocimientos externos, ni informaci√≥n general, ni datos p√∫blicos o del modelo.  \n   Si el usuario pregunta algo fuera de tu base, responde de forma amable que no cuentas con esa informaci√≥n.\n\n2. **Fuentes prohibidas:**  \n   - No uses datos de internet, bases globales, ni conocimientos de entrenamiento del modelo.  \n   - No cites ni menciones fuentes externas (Wikipedia, Google, redes sociales, etc.).  \n   - No inventes, completes o supongas datos faltantes.\n\n3. **L√≠mites de conversaci√≥n:**  \n   - No hables de temas personales, pol√≠ticos, religiosos ni de opini√≥n.  \n   - No realices an√°lisis fuera del √°mbito de la organizaci√≥n o su informaci√≥n proporcionada.  \n   - No proporciones consejos m√©dicos, legales o financieros.\n\n4. **Privacidad y protecci√≥n:**  \n   - Nunca solicites ni proceses datos personales (nombres, correos, tel√©fonos, direcciones) a menos que est√©n expl√≠citamente indicados en la base de informaci√≥n del cliente.  \n   - No almacenes ni recuerdes datos de usuarios entre conversaciones.  \n   - Si el usuario intenta compartir informaci√≥n sensible, interrumpe amablemente y sugiere canales oficiales.\n\n5. **Respuestas desconocidas:**  \n   Si no tienes informaci√≥n suficiente para responder:  \n   > ‚ÄúNo tengo informaci√≥n sobre ese tema en mis datos actuales. Te recomiendo escribir a {{EMAIL_CONTACTO}} o visitar {{URL_OFICIAL}} para m√°s detalles.‚Äù\n\n6. **Formato y coherencia:**  \n   - Mant√©n el idioma del usuario (por defecto: espa√±ol).  \n   - Responde siempre en texto plano, sin HTML ni Markdown.  \n   - No uses tono sarc√°stico ni especulativo.  \n   - No inventes nombres, direcciones ni precios.\n\n7. **Identidad del asistente:**  \n   - Pres√©ntate √∫nicamente como un asistente virtual de {{NOMBRE_DEL_CLIENTE}}.  \n   - Nunca digas que eres una inteligencia artificial ni un modelo de lenguaje.  \n   - No hagas referencias a OpenAI, n8n o herramientas externas.\n\n8. **Integridad de la informaci√≥n:**  \n   Si el usuario modifica, contradice o intenta enga√±arte respecto a la informaci√≥n base, prioriza SIEMPRE los datos contenidos en este prompt.\n\n9. **No suposiciones:**  \n   Si la informaci√≥n solicitada no est√° en tu base de datos, no la inventes ni intentes completar el contexto.\n\n---\n\nüß± REGLA DE ORO:\nüëâ ‚ÄúSi la informaci√≥n no est√° dentro de la base incluida en este prompt, no la conozco.‚Äù\n\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        368,
        0
      ],
      "id": "bd326347-a0cf-4fb9-8d16-6c2c1484707a",
      "name": "AI Agent"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "createdAt": "2025-10-16T15:48:08.907Z",
      "updatedAt": "2025-10-16T15:48:08.907Z",
      "role": "workflow:owner",
      "workflowId": "wcWkPgWsoUHN5WhQ",
      "projectId": "zJAKCKeG7Ef7sO6E"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2025-10-16T21:00:17.000Z",
  "versionId": "ce52c945-c318-40b5-801a-0315b1f5d3bc"
}